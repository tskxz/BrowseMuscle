{{> header }}

<style>
  #container {
    display: flex;
    justify-content: center; /* horizontal alignment */
    align-items: center; /* vertical alignment */
    margin: auto; /* centering */
  }
</style>

  <body class="bg-black text-white mt-0" data-bs-spy="scroll" data-bs-target="#navScroll">

   {{> nav_bar}} 
<br>
<br>
<br>

<div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
  <header class="mb-auto">
  </header>
  <main class="px-3">
    <select class="form-select" aria-label="Default select example" onchange="getAlimentoDetails()">
        <option selected>Escolhe um alimento</option>
    {{#each rows}}
        <option value="{{this.id}}">{{this.alimento}}</option>
    {{/each}}
    </select>
  </main>
      <div id="alimento-details"></div>

</div>
<script>
    function getAlimentoDetails() {
        const select = document.querySelector('.form-select');
        const selectedOption = select.options[select.selectedIndex];
        const selectedAlimentoId = selectedOption.value;
        const alimentoDetailsDiv = document.querySelector('#alimento-details');
        
        fetch(`/api/alimento/${selectedAlimentoId}`)
            .then(response => response.json())
            .then(data => {
                const alimentoDetails = `
                    <h3>${data.result[0].nome}</h3>
                    <p>Calorias: ${data.result[0].calorias}</p>
                    <p>Prote√≠nas: ${data.result[0].proteina}</p>
                    <p>Carboidratos: ${data.result[0].carbs}</p>
                    <p>Gorduras: ${data.result[0].gordura}</p>
                `;
                alimentoDetailsDiv.innerHTML = alimentoDetails;
            })
            .catch(error => console.error(error));
    }
</script>





